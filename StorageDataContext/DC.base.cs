//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by StorageClassGenerator
//
//     Do not change code in this file, it will get lost when the file gets 
//     auto generated again. Write your code into DC.cs.
// </auto-generated>
//------------------------------------------------------------------------------
#nullable enable
using System;
using System.Collections.Generic;
using System.Threading;
using Storage;


namespace StorageModel  {

  /// <summary>
  /// A part of DC is static, which gives easy access to all stored data (=context) through DC.Data. But most functionality is in the
  /// instantiatable part of DC. Since it is instantiatable, is possible to use different contexts over the lifetime of a program. This 
  /// is helpful for unit testing. Use DC.Init() to create a new context and dispose it with DisposeData() before creating a new one.
  /// </summary>
  public partial class DC: IDisposable {

    #region static Part
    //      -----------

    /// <summary>
    /// Provides static root access to the data context
    /// </summary>
    public static DC Data {
      get { return data!; }
    }
    private static DC? data; //data is needed for Interlocked.Exchange(ref data, null) in DisposeData()


    /// <summary>
    /// Flushes all data to permanent storage location if permanent data storage is active. Compacts data storage
    /// by applying all updates and removing all instances marked as deleted.
    /// </summary>
    public static void DisposeData() {
      var dataLocal = Interlocked.Exchange(ref data, null);
      dataLocal?.Dispose();
    }
    #endregion


    #region Properties
    //      ----------

    /// <summary>
    /// Configuration parameters if data gets stored in .csv files
    /// </summary>
    public CsvConfig? CsvConfig { get; }

    /// <summary>
    /// Is all data initialised
    /// </summary>
    public bool IsInitialised { get; private set; }

    /// <summary>
    /// Directory of all ChildrenDictionary_Children
    /// </summary>
    public StorageDictionary<ChildrenDictionary_Child, DC> ChildrenDictionary_Children { get; private set; }

    /// <summary>
    /// Directory of all ChildrenDictionary_Parents
    /// </summary>
    public StorageDictionary<ChildrenDictionary_Parent, DC> ChildrenDictionary_Parents { get; private set; }

    /// <summary>
    /// Directory of all ChildrenDictionary_ParentNullables
    /// </summary>
    public StorageDictionary<ChildrenDictionary_ParentNullable, DC> ChildrenDictionary_ParentNullables { get; private set; }

    /// <summary>
    /// Directory of all ChildrenList_Children
    /// </summary>
    public StorageDictionary<ChildrenList_Child, DC> ChildrenList_Children { get; private set; }

    /// <summary>
    /// Directory of all ChildrenList_CreateOnlyChildren
    /// </summary>
    public StorageDictionary<ChildrenList_CreateOnlyChild, DC> ChildrenList_CreateOnlyChildren { get; private set; }

    /// <summary>
    /// Directory of all ChildrenList_CreateOnlyParents
    /// </summary>
    public StorageDictionary<ChildrenList_CreateOnlyParent, DC> ChildrenList_CreateOnlyParents { get; private set; }

    /// <summary>
    /// Directory of all ChildrenList_CreateOnlyParentNullables
    /// </summary>
    public StorageDictionary<ChildrenList_CreateOnlyParentNullable, DC> ChildrenList_CreateOnlyParentNullables { get; private set; }

    /// <summary>
    /// Directory of all ChildrenList_Parents
    /// </summary>
    public StorageDictionary<ChildrenList_Parent, DC> ChildrenList_Parents { get; private set; }

    /// <summary>
    /// Directory of all ChildrenList_ParentNullables
    /// </summary>
    public StorageDictionary<ChildrenList_ParentNullable, DC> ChildrenList_ParentNullables { get; private set; }

    /// <summary>
    /// Directory of all ChildrenSortedList_Children
    /// </summary>
    public StorageDictionary<ChildrenSortedList_Child, DC> ChildrenSortedList_Children { get; private set; }

    /// <summary>
    /// Directory of all ChildrenSortedList_Parents
    /// </summary>
    public StorageDictionary<ChildrenSortedList_Parent, DC> ChildrenSortedList_Parents { get; private set; }

    /// <summary>
    /// Directory of all ChildrenSortedList_ParentNullables
    /// </summary>
    public StorageDictionary<ChildrenSortedList_ParentNullable, DC> ChildrenSortedList_ParentNullables { get; private set; }

    /// <summary>
    /// Directory of all CreateOnly_Children
    /// </summary>
    public StorageDictionary<CreateOnly_Child, DC> CreateOnly_Children { get; private set; }

    /// <summary>
    /// Directory of all CreateOnly_Parents
    /// </summary>
    public StorageDictionary<CreateOnly_Parent, DC> CreateOnly_Parents { get; private set; }

    /// <summary>
    /// Directory of all CreateOnly_ParentNullables
    /// </summary>
    public StorageDictionary<CreateOnly_ParentNullable, DC> CreateOnly_ParentNullables { get; private set; }

    /// <summary>
    /// Directory of all CreateOnlyParentChangeableChild_Children
    /// </summary>
    public StorageDictionary<CreateOnlyParentChangeableChild_Child, DC> CreateOnlyParentChangeableChild_Children { get; private set; }

    /// <summary>
    /// Directory of all CreateOnlyParentChangeableChild_Parents
    /// </summary>
    public StorageDictionary<CreateOnlyParentChangeableChild_Parent, DC> CreateOnlyParentChangeableChild_Parents { get; private set; }

    /// <summary>
    /// Directory of all CreateOnlyParentChangeableChild_ParentNullables
    /// </summary>
    public StorageDictionary<CreateOnlyParentChangeableChild_ParentNullable, DC> CreateOnlyParentChangeableChild_ParentNullables { get; private set; }

    /// <summary>
    /// Directory of all DataTypeSamples
    /// </summary>
    public StorageDictionary<DataTypeSample, DC> DataTypeSamples { get; private set; }

    /// <summary>
    /// Directory of all Lookup_Children
    /// </summary>
    public StorageDictionary<Lookup_Child, DC> Lookup_Children { get; private set; }

    /// <summary>
    /// Directory of all Lookup_Parents
    /// </summary>
    public StorageDictionary<Lookup_Parent, DC> Lookup_Parents { get; private set; }

    /// <summary>
    /// Directory of all Lookup_ParentNullables
    /// </summary>
    public StorageDictionary<Lookup_ParentNullable, DC> Lookup_ParentNullables { get; private set; }

    /// <summary>
    /// Directory of all ParentOneChild_Children
    /// </summary>
    public StorageDictionary<ParentOneChild_Child, DC> ParentOneChild_Children { get; private set; }

    /// <summary>
    /// Directory of all ParentOneChild_Parents
    /// </summary>
    public StorageDictionary<ParentOneChild_Parent, DC> ParentOneChild_Parents { get; private set; }

    /// <summary>
    /// Directory of all ParentOneChild_ParentNullables
    /// </summary>
    public StorageDictionary<ParentOneChild_ParentNullable, DC> ParentOneChild_ParentNullables { get; private set; }

    /// <summary>
    /// Directory of all PrivateConstructors
    /// </summary>
    public StorageDictionary<PrivateConstructor, DC> PrivateConstructors { get; private set; }

    /// <summary>
    /// Directory of all PropertyNeedsDictionaryClasses
    /// </summary>
    public StorageDictionary<PropertyNeedsDictionaryClass, DC> PropertyNeedsDictionaryClasses { get; private set; }

    /// <summary>
    /// Directory of all PropertyNeedsDictionaryClasses by IdInt
    /// </summary>
    public Dictionary<int, PropertyNeedsDictionaryClass> PropertyNeedsDictionaryClassesByIdInt { get; private set; }

    /// <summary>
    /// Directory of all PropertyNeedsDictionaryClasses by IdString
    /// </summary>
    public Dictionary<string, PropertyNeedsDictionaryClass> PropertyNeedsDictionaryClassesByIdString { get; private set; }

    /// <summary>
    /// Directory of all SampleX
    /// </summary>
    public StorageDictionary<Sample, DC> SampleX { get; private set; }

    /// <summary>
    /// Directory of all SampleDetails
    /// </summary>
    public StorageDictionary<SampleDetail, DC> SampleDetails { get; private set; }

    /// <summary>
    /// Directory of all SampleMasters
    /// </summary>
    public StorageDictionary<SampleMaster, DC> SampleMasters { get; private set; }
    #endregion


    #region Events
    //      ------

    #endregion


    #region Constructors
    //      ------------

    /// <summary>
    /// Creates a new data context. If csvConfig is null, the data is only stored in RAM, but gets lost once 
    /// program terminates. With csvConfig defined, existing data gets read at startup, changes immediately
    /// when written and Dispose() ensures by flushing that all data is permanently stored.
    /// </summary>
    public DC(CsvConfig? csvConfig) {
      if (!IsDisposed) {
        throw new Exception("Dispose old DC before creating a new one.");
      }
      isDisposed = 0;
      data = this;
      IsInitialised = false;

      string? backupResult = null;
      if (csvConfig!=null) {
        backupResult = Csv.Backup(csvConfig, DateTime.Now);
      }

      CsvConfig = csvConfig;
      onConstructing(backupResult);

      PropertyNeedsDictionaryClassesByIdInt = new Dictionary<int, PropertyNeedsDictionaryClass>();
      PropertyNeedsDictionaryClassesByIdString = new Dictionary<string, PropertyNeedsDictionaryClass>();
      if (csvConfig==null) {
        DataTypeSamples = new StorageDictionary<DataTypeSample, DC>(
          this,
          DataTypeSample.SetKey,
          null,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onDataTypeSamplesFilled();
        SampleMasters = new StorageDictionary<SampleMaster, DC>(
          this,
          SampleMaster.SetKey,
          null,
          areInstancesUpdatable: true,
          areInstancesDeletable: false);
        onSampleMastersFilled();
        SampleX = new StorageDictionary<Sample, DC>(
          this,
          Sample.SetKey,
          Sample.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onSampleXFilled();
        SampleDetails = new StorageDictionary<SampleDetail, DC>(
          this,
          SampleDetail.SetKey,
          SampleDetail.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onSampleDetailsFilled();
        ParentOneChild_Parents = new StorageDictionary<ParentOneChild_Parent, DC>(
          this,
          ParentOneChild_Parent.SetKey,
          ParentOneChild_Parent.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onParentOneChild_ParentsFilled();
        ParentOneChild_ParentNullables = new StorageDictionary<ParentOneChild_ParentNullable, DC>(
          this,
          ParentOneChild_ParentNullable.SetKey,
          ParentOneChild_ParentNullable.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onParentOneChild_ParentNullablesFilled();
        ParentOneChild_Children = new StorageDictionary<ParentOneChild_Child, DC>(
          this,
          ParentOneChild_Child.SetKey,
          ParentOneChild_Child.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onParentOneChild_ChildrenFilled();
        PropertyNeedsDictionaryClasses = new StorageDictionary<PropertyNeedsDictionaryClass, DC>(
          this,
          PropertyNeedsDictionaryClass.SetKey,
          PropertyNeedsDictionaryClass.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onPropertyNeedsDictionaryClassesFilled();
        Lookup_Parents = new StorageDictionary<Lookup_Parent, DC>(
          this,
          Lookup_Parent.SetKey,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onLookup_ParentsFilled();
        Lookup_ParentNullables = new StorageDictionary<Lookup_ParentNullable, DC>(
          this,
          Lookup_ParentNullable.SetKey,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: true);
        onLookup_ParentNullablesFilled();
        Lookup_Children = new StorageDictionary<Lookup_Child, DC>(
          this,
          Lookup_Child.SetKey,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onLookup_ChildrenFilled();
        ChildrenList_Parents = new StorageDictionary<ChildrenList_Parent, DC>(
          this,
          ChildrenList_Parent.SetKey,
          ChildrenList_Parent.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenList_ParentsFilled();
        ChildrenList_ParentNullables = new StorageDictionary<ChildrenList_ParentNullable, DC>(
          this,
          ChildrenList_ParentNullable.SetKey,
          ChildrenList_ParentNullable.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenList_ParentNullablesFilled();
        ChildrenList_CreateOnlyParents = new StorageDictionary<ChildrenList_CreateOnlyParent, DC>(
          this,
          ChildrenList_CreateOnlyParent.SetKey,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onChildrenList_CreateOnlyParentsFilled();
        ChildrenList_CreateOnlyParentNullables = new StorageDictionary<ChildrenList_CreateOnlyParentNullable, DC>(
          this,
          ChildrenList_CreateOnlyParentNullable.SetKey,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onChildrenList_CreateOnlyParentNullablesFilled();
        ChildrenList_Children = new StorageDictionary<ChildrenList_Child, DC>(
          this,
          ChildrenList_Child.SetKey,
          ChildrenList_Child.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenList_ChildrenFilled();
        ChildrenList_CreateOnlyChildren = new StorageDictionary<ChildrenList_CreateOnlyChild, DC>(
          this,
          ChildrenList_CreateOnlyChild.SetKey,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onChildrenList_CreateOnlyChildrenFilled();
        ChildrenDictionary_Parents = new StorageDictionary<ChildrenDictionary_Parent, DC>(
          this,
          ChildrenDictionary_Parent.SetKey,
          ChildrenDictionary_Parent.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenDictionary_ParentsFilled();
        ChildrenDictionary_ParentNullables = new StorageDictionary<ChildrenDictionary_ParentNullable, DC>(
          this,
          ChildrenDictionary_ParentNullable.SetKey,
          ChildrenDictionary_ParentNullable.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenDictionary_ParentNullablesFilled();
        ChildrenDictionary_Children = new StorageDictionary<ChildrenDictionary_Child, DC>(
          this,
          ChildrenDictionary_Child.SetKey,
          ChildrenDictionary_Child.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenDictionary_ChildrenFilled();
        ChildrenSortedList_Parents = new StorageDictionary<ChildrenSortedList_Parent, DC>(
          this,
          ChildrenSortedList_Parent.SetKey,
          ChildrenSortedList_Parent.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenSortedList_ParentsFilled();
        ChildrenSortedList_ParentNullables = new StorageDictionary<ChildrenSortedList_ParentNullable, DC>(
          this,
          ChildrenSortedList_ParentNullable.SetKey,
          ChildrenSortedList_ParentNullable.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenSortedList_ParentNullablesFilled();
        ChildrenSortedList_Children = new StorageDictionary<ChildrenSortedList_Child, DC>(
          this,
          ChildrenSortedList_Child.SetKey,
          ChildrenSortedList_Child.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenSortedList_ChildrenFilled();
        CreateOnly_Parents = new StorageDictionary<CreateOnly_Parent, DC>(
          this,
          CreateOnly_Parent.SetKey,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onCreateOnly_ParentsFilled();
        CreateOnly_ParentNullables = new StorageDictionary<CreateOnly_ParentNullable, DC>(
          this,
          CreateOnly_ParentNullable.SetKey,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onCreateOnly_ParentNullablesFilled();
        CreateOnly_Children = new StorageDictionary<CreateOnly_Child, DC>(
          this,
          CreateOnly_Child.SetKey,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onCreateOnly_ChildrenFilled();
        CreateOnlyParentChangeableChild_Parents = new StorageDictionary<CreateOnlyParentChangeableChild_Parent, DC>(
          this,
          CreateOnlyParentChangeableChild_Parent.SetKey,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onCreateOnlyParentChangeableChild_ParentsFilled();
        CreateOnlyParentChangeableChild_ParentNullables = new StorageDictionary<CreateOnlyParentChangeableChild_ParentNullable, DC>(
          this,
          CreateOnlyParentChangeableChild_ParentNullable.SetKey,
          CreateOnlyParentChangeableChild_ParentNullable.Disconnect,
          areInstancesUpdatable: false,
          areInstancesDeletable: true);
        onCreateOnlyParentChangeableChild_ParentNullablesFilled();
        CreateOnlyParentChangeableChild_Children = new StorageDictionary<CreateOnlyParentChangeableChild_Child, DC>(
          this,
          CreateOnlyParentChangeableChild_Child.SetKey,
          CreateOnlyParentChangeableChild_Child.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onCreateOnlyParentChangeableChild_ChildrenFilled();
        PrivateConstructors = new StorageDictionary<PrivateConstructor, DC>(
          this,
          PrivateConstructor.SetKey,
          null,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onPrivateConstructorsFilled();
      } else {
        DataTypeSamples = new StorageDictionaryCSV<DataTypeSample, DC>(
          this,
          csvConfig!,
          DataTypeSample.EstimatedLineLength,
          DataTypeSample.Headers,
          DataTypeSample.SetKey,
          DataTypeSample.Create,
          null,
          DataTypeSample.Update,
          DataTypeSample.Write,
          null,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onDataTypeSamplesFilled();
        SampleMasters = new StorageDictionaryCSV<SampleMaster, DC>(
          this,
          csvConfig!,
          SampleMaster.EstimatedLineLength,
          SampleMaster.Headers,
          SampleMaster.SetKey,
          SampleMaster.Create,
          null,
          SampleMaster.Update,
          SampleMaster.Write,
          null,
          areInstancesUpdatable: true,
          areInstancesDeletable: false);
        onSampleMastersFilled();
        SampleX = new StorageDictionaryCSV<Sample, DC>(
          this,
          csvConfig!,
          Sample.EstimatedLineLength,
          Sample.Headers,
          Sample.SetKey,
          Sample.Create,
          Sample.Verify,
          Sample.Update,
          Sample.Write,
          Sample.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onSampleXFilled();
        SampleDetails = new StorageDictionaryCSV<SampleDetail, DC>(
          this,
          csvConfig!,
          SampleDetail.EstimatedLineLength,
          SampleDetail.Headers,
          SampleDetail.SetKey,
          SampleDetail.Create,
          SampleDetail.Verify,
          SampleDetail.Update,
          SampleDetail.Write,
          SampleDetail.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onSampleDetailsFilled();
        ParentOneChild_Parents = new StorageDictionaryCSV<ParentOneChild_Parent, DC>(
          this,
          csvConfig!,
          ParentOneChild_Parent.EstimatedLineLength,
          ParentOneChild_Parent.Headers,
          ParentOneChild_Parent.SetKey,
          ParentOneChild_Parent.Create,
          null,
          ParentOneChild_Parent.Update,
          ParentOneChild_Parent.Write,
          ParentOneChild_Parent.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onParentOneChild_ParentsFilled();
        ParentOneChild_ParentNullables = new StorageDictionaryCSV<ParentOneChild_ParentNullable, DC>(
          this,
          csvConfig!,
          ParentOneChild_ParentNullable.EstimatedLineLength,
          ParentOneChild_ParentNullable.Headers,
          ParentOneChild_ParentNullable.SetKey,
          ParentOneChild_ParentNullable.Create,
          null,
          ParentOneChild_ParentNullable.Update,
          ParentOneChild_ParentNullable.Write,
          ParentOneChild_ParentNullable.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onParentOneChild_ParentNullablesFilled();
        ParentOneChild_Children = new StorageDictionaryCSV<ParentOneChild_Child, DC>(
          this,
          csvConfig!,
          ParentOneChild_Child.EstimatedLineLength,
          ParentOneChild_Child.Headers,
          ParentOneChild_Child.SetKey,
          ParentOneChild_Child.Create,
          ParentOneChild_Child.Verify,
          ParentOneChild_Child.Update,
          ParentOneChild_Child.Write,
          ParentOneChild_Child.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onParentOneChild_ChildrenFilled();
        PropertyNeedsDictionaryClasses = new StorageDictionaryCSV<PropertyNeedsDictionaryClass, DC>(
          this,
          csvConfig!,
          PropertyNeedsDictionaryClass.EstimatedLineLength,
          PropertyNeedsDictionaryClass.Headers,
          PropertyNeedsDictionaryClass.SetKey,
          PropertyNeedsDictionaryClass.Create,
          null,
          PropertyNeedsDictionaryClass.Update,
          PropertyNeedsDictionaryClass.Write,
          PropertyNeedsDictionaryClass.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onPropertyNeedsDictionaryClassesFilled();
        Lookup_Parents = new StorageDictionaryCSV<Lookup_Parent, DC>(
          this,
          csvConfig!,
          Lookup_Parent.EstimatedLineLength,
          Lookup_Parent.Headers,
          Lookup_Parent.SetKey,
          Lookup_Parent.Create,
          null,
          null,
          Lookup_Parent.Write,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onLookup_ParentsFilled();
        Lookup_ParentNullables = new StorageDictionaryCSV<Lookup_ParentNullable, DC>(
          this,
          csvConfig!,
          Lookup_ParentNullable.EstimatedLineLength,
          Lookup_ParentNullable.Headers,
          Lookup_ParentNullable.SetKey,
          Lookup_ParentNullable.Create,
          null,
          null,
          Lookup_ParentNullable.Write,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: true);
        onLookup_ParentNullablesFilled();
        Lookup_Children = new StorageDictionaryCSV<Lookup_Child, DC>(
          this,
          csvConfig!,
          Lookup_Child.EstimatedLineLength,
          Lookup_Child.Headers,
          Lookup_Child.SetKey,
          Lookup_Child.Create,
          Lookup_Child.Verify,
          null,
          Lookup_Child.Write,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onLookup_ChildrenFilled();
        ChildrenList_Parents = new StorageDictionaryCSV<ChildrenList_Parent, DC>(
          this,
          csvConfig!,
          ChildrenList_Parent.EstimatedLineLength,
          ChildrenList_Parent.Headers,
          ChildrenList_Parent.SetKey,
          ChildrenList_Parent.Create,
          null,
          ChildrenList_Parent.Update,
          ChildrenList_Parent.Write,
          ChildrenList_Parent.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenList_ParentsFilled();
        ChildrenList_ParentNullables = new StorageDictionaryCSV<ChildrenList_ParentNullable, DC>(
          this,
          csvConfig!,
          ChildrenList_ParentNullable.EstimatedLineLength,
          ChildrenList_ParentNullable.Headers,
          ChildrenList_ParentNullable.SetKey,
          ChildrenList_ParentNullable.Create,
          null,
          ChildrenList_ParentNullable.Update,
          ChildrenList_ParentNullable.Write,
          ChildrenList_ParentNullable.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenList_ParentNullablesFilled();
        ChildrenList_CreateOnlyParents = new StorageDictionaryCSV<ChildrenList_CreateOnlyParent, DC>(
          this,
          csvConfig!,
          ChildrenList_CreateOnlyParent.EstimatedLineLength,
          ChildrenList_CreateOnlyParent.Headers,
          ChildrenList_CreateOnlyParent.SetKey,
          ChildrenList_CreateOnlyParent.Create,
          null,
          null,
          ChildrenList_CreateOnlyParent.Write,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onChildrenList_CreateOnlyParentsFilled();
        ChildrenList_CreateOnlyParentNullables = new StorageDictionaryCSV<ChildrenList_CreateOnlyParentNullable, DC>(
          this,
          csvConfig!,
          ChildrenList_CreateOnlyParentNullable.EstimatedLineLength,
          ChildrenList_CreateOnlyParentNullable.Headers,
          ChildrenList_CreateOnlyParentNullable.SetKey,
          ChildrenList_CreateOnlyParentNullable.Create,
          null,
          null,
          ChildrenList_CreateOnlyParentNullable.Write,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onChildrenList_CreateOnlyParentNullablesFilled();
        ChildrenList_Children = new StorageDictionaryCSV<ChildrenList_Child, DC>(
          this,
          csvConfig!,
          ChildrenList_Child.EstimatedLineLength,
          ChildrenList_Child.Headers,
          ChildrenList_Child.SetKey,
          ChildrenList_Child.Create,
          ChildrenList_Child.Verify,
          ChildrenList_Child.Update,
          ChildrenList_Child.Write,
          ChildrenList_Child.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenList_ChildrenFilled();
        ChildrenList_CreateOnlyChildren = new StorageDictionaryCSV<ChildrenList_CreateOnlyChild, DC>(
          this,
          csvConfig!,
          ChildrenList_CreateOnlyChild.EstimatedLineLength,
          ChildrenList_CreateOnlyChild.Headers,
          ChildrenList_CreateOnlyChild.SetKey,
          ChildrenList_CreateOnlyChild.Create,
          ChildrenList_CreateOnlyChild.Verify,
          null,
          ChildrenList_CreateOnlyChild.Write,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onChildrenList_CreateOnlyChildrenFilled();
        ChildrenDictionary_Parents = new StorageDictionaryCSV<ChildrenDictionary_Parent, DC>(
          this,
          csvConfig!,
          ChildrenDictionary_Parent.EstimatedLineLength,
          ChildrenDictionary_Parent.Headers,
          ChildrenDictionary_Parent.SetKey,
          ChildrenDictionary_Parent.Create,
          null,
          ChildrenDictionary_Parent.Update,
          ChildrenDictionary_Parent.Write,
          ChildrenDictionary_Parent.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenDictionary_ParentsFilled();
        ChildrenDictionary_ParentNullables = new StorageDictionaryCSV<ChildrenDictionary_ParentNullable, DC>(
          this,
          csvConfig!,
          ChildrenDictionary_ParentNullable.EstimatedLineLength,
          ChildrenDictionary_ParentNullable.Headers,
          ChildrenDictionary_ParentNullable.SetKey,
          ChildrenDictionary_ParentNullable.Create,
          null,
          ChildrenDictionary_ParentNullable.Update,
          ChildrenDictionary_ParentNullable.Write,
          ChildrenDictionary_ParentNullable.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenDictionary_ParentNullablesFilled();
        ChildrenDictionary_Children = new StorageDictionaryCSV<ChildrenDictionary_Child, DC>(
          this,
          csvConfig!,
          ChildrenDictionary_Child.EstimatedLineLength,
          ChildrenDictionary_Child.Headers,
          ChildrenDictionary_Child.SetKey,
          ChildrenDictionary_Child.Create,
          ChildrenDictionary_Child.Verify,
          ChildrenDictionary_Child.Update,
          ChildrenDictionary_Child.Write,
          ChildrenDictionary_Child.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenDictionary_ChildrenFilled();
        ChildrenSortedList_Parents = new StorageDictionaryCSV<ChildrenSortedList_Parent, DC>(
          this,
          csvConfig!,
          ChildrenSortedList_Parent.EstimatedLineLength,
          ChildrenSortedList_Parent.Headers,
          ChildrenSortedList_Parent.SetKey,
          ChildrenSortedList_Parent.Create,
          null,
          ChildrenSortedList_Parent.Update,
          ChildrenSortedList_Parent.Write,
          ChildrenSortedList_Parent.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenSortedList_ParentsFilled();
        ChildrenSortedList_ParentNullables = new StorageDictionaryCSV<ChildrenSortedList_ParentNullable, DC>(
          this,
          csvConfig!,
          ChildrenSortedList_ParentNullable.EstimatedLineLength,
          ChildrenSortedList_ParentNullable.Headers,
          ChildrenSortedList_ParentNullable.SetKey,
          ChildrenSortedList_ParentNullable.Create,
          null,
          ChildrenSortedList_ParentNullable.Update,
          ChildrenSortedList_ParentNullable.Write,
          ChildrenSortedList_ParentNullable.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenSortedList_ParentNullablesFilled();
        ChildrenSortedList_Children = new StorageDictionaryCSV<ChildrenSortedList_Child, DC>(
          this,
          csvConfig!,
          ChildrenSortedList_Child.EstimatedLineLength,
          ChildrenSortedList_Child.Headers,
          ChildrenSortedList_Child.SetKey,
          ChildrenSortedList_Child.Create,
          ChildrenSortedList_Child.Verify,
          ChildrenSortedList_Child.Update,
          ChildrenSortedList_Child.Write,
          ChildrenSortedList_Child.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onChildrenSortedList_ChildrenFilled();
        CreateOnly_Parents = new StorageDictionaryCSV<CreateOnly_Parent, DC>(
          this,
          csvConfig!,
          CreateOnly_Parent.EstimatedLineLength,
          CreateOnly_Parent.Headers,
          CreateOnly_Parent.SetKey,
          CreateOnly_Parent.Create,
          null,
          null,
          CreateOnly_Parent.Write,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onCreateOnly_ParentsFilled();
        CreateOnly_ParentNullables = new StorageDictionaryCSV<CreateOnly_ParentNullable, DC>(
          this,
          csvConfig!,
          CreateOnly_ParentNullable.EstimatedLineLength,
          CreateOnly_ParentNullable.Headers,
          CreateOnly_ParentNullable.SetKey,
          CreateOnly_ParentNullable.Create,
          null,
          null,
          CreateOnly_ParentNullable.Write,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onCreateOnly_ParentNullablesFilled();
        CreateOnly_Children = new StorageDictionaryCSV<CreateOnly_Child, DC>(
          this,
          csvConfig!,
          CreateOnly_Child.EstimatedLineLength,
          CreateOnly_Child.Headers,
          CreateOnly_Child.SetKey,
          CreateOnly_Child.Create,
          CreateOnly_Child.Verify,
          null,
          CreateOnly_Child.Write,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onCreateOnly_ChildrenFilled();
        CreateOnlyParentChangeableChild_Parents = new StorageDictionaryCSV<CreateOnlyParentChangeableChild_Parent, DC>(
          this,
          csvConfig!,
          CreateOnlyParentChangeableChild_Parent.EstimatedLineLength,
          CreateOnlyParentChangeableChild_Parent.Headers,
          CreateOnlyParentChangeableChild_Parent.SetKey,
          CreateOnlyParentChangeableChild_Parent.Create,
          null,
          null,
          CreateOnlyParentChangeableChild_Parent.Write,
          null,
          areInstancesUpdatable: false,
          areInstancesDeletable: false);
        onCreateOnlyParentChangeableChild_ParentsFilled();
        CreateOnlyParentChangeableChild_ParentNullables = new StorageDictionaryCSV<CreateOnlyParentChangeableChild_ParentNullable, DC>(
          this,
          csvConfig!,
          CreateOnlyParentChangeableChild_ParentNullable.EstimatedLineLength,
          CreateOnlyParentChangeableChild_ParentNullable.Headers,
          CreateOnlyParentChangeableChild_ParentNullable.SetKey,
          CreateOnlyParentChangeableChild_ParentNullable.Create,
          null,
          null,
          CreateOnlyParentChangeableChild_ParentNullable.Write,
          CreateOnlyParentChangeableChild_ParentNullable.Disconnect,
          areInstancesUpdatable: false,
          areInstancesDeletable: true);
        onCreateOnlyParentChangeableChild_ParentNullablesFilled();
        CreateOnlyParentChangeableChild_Children = new StorageDictionaryCSV<CreateOnlyParentChangeableChild_Child, DC>(
          this,
          csvConfig!,
          CreateOnlyParentChangeableChild_Child.EstimatedLineLength,
          CreateOnlyParentChangeableChild_Child.Headers,
          CreateOnlyParentChangeableChild_Child.SetKey,
          CreateOnlyParentChangeableChild_Child.Create,
          CreateOnlyParentChangeableChild_Child.Verify,
          CreateOnlyParentChangeableChild_Child.Update,
          CreateOnlyParentChangeableChild_Child.Write,
          CreateOnlyParentChangeableChild_Child.Disconnect,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onCreateOnlyParentChangeableChild_ChildrenFilled();
        PrivateConstructors = new StorageDictionaryCSV<PrivateConstructor, DC>(
          this,
          csvConfig!,
          PrivateConstructor.EstimatedLineLength,
          PrivateConstructor.Headers,
          PrivateConstructor.SetKey,
          PrivateConstructor.Create,
          null,
          PrivateConstructor.Update,
          PrivateConstructor.Write,
          null,
          areInstancesUpdatable: true,
          areInstancesDeletable: true);
        onPrivateConstructorsFilled();
      }
      onConstructed();
      IsInitialised = true;
    }

    /// <summary>}
    /// Called at beginning of constructor
    /// </summary>}
    partial void onConstructing(string? backupResult);

    /// <summary>}
    /// Called at end of constructor
    /// </summary>}
    partial void onConstructed();

    /// <summary>}
    /// Called once the data for DataTypeSamples is read.
    /// </summary>}
    partial void onDataTypeSamplesFilled();

    /// <summary>}
    /// Called once the data for SampleMasters is read.
    /// </summary>}
    partial void onSampleMastersFilled();

    /// <summary>}
    /// Called once the data for SampleX is read.
    /// </summary>}
    partial void onSampleXFilled();

    /// <summary>}
    /// Called once the data for SampleDetails is read.
    /// </summary>}
    partial void onSampleDetailsFilled();

    /// <summary>}
    /// Called once the data for ParentOneChild_Parents is read.
    /// </summary>}
    partial void onParentOneChild_ParentsFilled();

    /// <summary>}
    /// Called once the data for ParentOneChild_ParentNullables is read.
    /// </summary>}
    partial void onParentOneChild_ParentNullablesFilled();

    /// <summary>}
    /// Called once the data for ParentOneChild_Children is read.
    /// </summary>}
    partial void onParentOneChild_ChildrenFilled();

    /// <summary>}
    /// Called once the data for PropertyNeedsDictionaryClasses is read.
    /// </summary>}
    partial void onPropertyNeedsDictionaryClassesFilled();

    /// <summary>}
    /// Called once the data for Lookup_Parents is read.
    /// </summary>}
    partial void onLookup_ParentsFilled();

    /// <summary>}
    /// Called once the data for Lookup_ParentNullables is read.
    /// </summary>}
    partial void onLookup_ParentNullablesFilled();

    /// <summary>}
    /// Called once the data for Lookup_Children is read.
    /// </summary>}
    partial void onLookup_ChildrenFilled();

    /// <summary>}
    /// Called once the data for ChildrenList_Parents is read.
    /// </summary>}
    partial void onChildrenList_ParentsFilled();

    /// <summary>}
    /// Called once the data for ChildrenList_ParentNullables is read.
    /// </summary>}
    partial void onChildrenList_ParentNullablesFilled();

    /// <summary>}
    /// Called once the data for ChildrenList_CreateOnlyParents is read.
    /// </summary>}
    partial void onChildrenList_CreateOnlyParentsFilled();

    /// <summary>}
    /// Called once the data for ChildrenList_CreateOnlyParentNullables is read.
    /// </summary>}
    partial void onChildrenList_CreateOnlyParentNullablesFilled();

    /// <summary>}
    /// Called once the data for ChildrenList_Children is read.
    /// </summary>}
    partial void onChildrenList_ChildrenFilled();

    /// <summary>}
    /// Called once the data for ChildrenList_CreateOnlyChildren is read.
    /// </summary>}
    partial void onChildrenList_CreateOnlyChildrenFilled();

    /// <summary>}
    /// Called once the data for ChildrenDictionary_Parents is read.
    /// </summary>}
    partial void onChildrenDictionary_ParentsFilled();

    /// <summary>}
    /// Called once the data for ChildrenDictionary_ParentNullables is read.
    /// </summary>}
    partial void onChildrenDictionary_ParentNullablesFilled();

    /// <summary>}
    /// Called once the data for ChildrenDictionary_Children is read.
    /// </summary>}
    partial void onChildrenDictionary_ChildrenFilled();

    /// <summary>}
    /// Called once the data for ChildrenSortedList_Parents is read.
    /// </summary>}
    partial void onChildrenSortedList_ParentsFilled();

    /// <summary>}
    /// Called once the data for ChildrenSortedList_ParentNullables is read.
    /// </summary>}
    partial void onChildrenSortedList_ParentNullablesFilled();

    /// <summary>}
    /// Called once the data for ChildrenSortedList_Children is read.
    /// </summary>}
    partial void onChildrenSortedList_ChildrenFilled();

    /// <summary>}
    /// Called once the data for CreateOnly_Parents is read.
    /// </summary>}
    partial void onCreateOnly_ParentsFilled();

    /// <summary>}
    /// Called once the data for CreateOnly_ParentNullables is read.
    /// </summary>}
    partial void onCreateOnly_ParentNullablesFilled();

    /// <summary>}
    /// Called once the data for CreateOnly_Children is read.
    /// </summary>}
    partial void onCreateOnly_ChildrenFilled();

    /// <summary>}
    /// Called once the data for CreateOnlyParentChangeableChild_Parents is read.
    /// </summary>}
    partial void onCreateOnlyParentChangeableChild_ParentsFilled();

    /// <summary>}
    /// Called once the data for CreateOnlyParentChangeableChild_ParentNullables is read.
    /// </summary>}
    partial void onCreateOnlyParentChangeableChild_ParentNullablesFilled();

    /// <summary>}
    /// Called once the data for CreateOnlyParentChangeableChild_Children is read.
    /// </summary>}
    partial void onCreateOnlyParentChangeableChild_ChildrenFilled();

    /// <summary>}
    /// Called once the data for PrivateConstructors is read.
    /// </summary>}
    partial void onPrivateConstructorsFilled();
    #endregion


    #region IDisposable Support
    //      -------------------

    /// <summary>
    /// Is DC.Data already disposed ?
    /// </summary>
    public bool IsDisposed {
      get { return isDisposed==1; }
    }
    int isDisposed = 1;


    protected virtual void Dispose(bool disposing) {
      var wasDisposed = Interlocked.Exchange(ref isDisposed, 1);//prevents that 2 threads dispose simultaneously
      if (wasDisposed==1) return; // already disposed

      if (disposing) {
        onDispose();
        PrivateConstructors.Dispose();
        CreateOnlyParentChangeableChild_Children.Dispose();
        CreateOnlyParentChangeableChild_ParentNullables.Dispose();
        CreateOnlyParentChangeableChild_Parents.Dispose();
        CreateOnly_Children.Dispose();
        CreateOnly_ParentNullables.Dispose();
        CreateOnly_Parents.Dispose();
        ChildrenSortedList_Children.Dispose();
        ChildrenSortedList_ParentNullables.Dispose();
        ChildrenSortedList_Parents.Dispose();
        ChildrenDictionary_Children.Dispose();
        ChildrenDictionary_ParentNullables.Dispose();
        ChildrenDictionary_Parents.Dispose();
        ChildrenList_CreateOnlyChildren.Dispose();
        ChildrenList_Children.Dispose();
        ChildrenList_CreateOnlyParentNullables.Dispose();
        ChildrenList_CreateOnlyParents.Dispose();
        ChildrenList_ParentNullables.Dispose();
        ChildrenList_Parents.Dispose();
        Lookup_Children.Dispose();
        Lookup_ParentNullables.Dispose();
        Lookup_Parents.Dispose();
        PropertyNeedsDictionaryClasses.Dispose();
        ParentOneChild_Children.Dispose();
        ParentOneChild_ParentNullables.Dispose();
        ParentOneChild_Parents.Dispose();
        SampleDetails.Dispose();
        SampleX.Dispose();
        SampleMasters.Dispose();
        DataTypeSamples.Dispose();
        data = null;
      }
    }

    /// <summary>}
    /// Called before storageDirectories get disposed.
    /// </summary>}
    partial void onDispose();


    public void Dispose() {
      Dispose(true);
    }
    #endregion


    #region Methods
    //      -------

    #endregion

  }
}

